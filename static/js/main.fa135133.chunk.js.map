{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","services/pixabayApi.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","fetchImages","a","query","page","pageSize","axios","get","data","hits","propTypes","PropTypes","string","isRequired","number","Searchbar","state","handleQueryChange","event","setState","target","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","warning","className","s","SearchForm","this","type","SearchForm__button","SearchForm__buttonLabel","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","largeImageURL","tags","onSetImgData","onOpenModal","src","alt","ImageGalleryItem__image","onClick","ImageGallery","images","length","map","id","Button","onClickHandler","App","loaderContainer","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","code","onCloseModal","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","children","isLoading","error","showModal","imgTags","handleFormSubmit","options","pixabayApi","then","prevState","scrollToButtom","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","setImgData","prevProps","shouldRenderLoadMoreBtn","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fa135133.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__kjmur\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__f0eQz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__mFno9\",\"Modal\":\"Modal_Modal__2dY2P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__P4QfT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1miNe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderContainer\":\"Loader_loaderContainer__3icNZ\"};","import axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst API_KEY = '18773042-c85a376c8239f0d185771db9c';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\n\r\nconst fetchImages = async ({ query = '', page = 1, pageSize = 12 }) => {\r\n  const { data } = await axios.get(\r\n    `${BASE_URL}?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${pageSize}`,\r\n  );\r\n  return data.hits;\r\n};\r\n\r\nfetchImages.propTypes = {\r\n  query: PropTypes.string.isRequired,\r\n  page: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default fetchImages;","import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleQueryChange = event => {\n    this.setState({ query: event.target.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    const { query } = this.state;\n\n    if (query.trim() === '') {\n      toast.warning('Enter query name');\n      return;\n    }\n\n    this.props.onSubmit(query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchForm__button}>\n            <span className={s.SearchForm__buttonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchForm__input}\n            value={this.state.query}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleQueryChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({\n  webformatURL,\n  largeImageURL,\n  tags = '',\n  onSetImgData,\n  onOpenModal,\n}) => {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className={s.ImageGalleryItem__image}\n        onClick={() => {\n          onSetImgData({ largeImageURL, tags });\n          onOpenModal();\n        }}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string,\n  onSetImgData: PropTypes.func.isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nconst ImageGallery = ({ images, onSetImgData, onOpenModal }) => {\n  if (images.length === 0) return null;\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(({ id, webformatURL, largeImageURL, tags }) => (\n        <ImageGalleryItem\n          key={id}\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          tags={tags}\n          onSetImgData={onSetImgData}\n          onOpenModal={onOpenModal}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n  onSetImgData: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ onClickHandler }) => {\n  return (\n    <button type=\"button\" className={s.Button} onClick={onClickHandler}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClickHandler: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './Loader.module.css';\n\nexport default class App extends Component {\n  render() {\n    return (\n      <div className={s.loaderContainer}>\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000}\n        />\n      </div>\n    );\n  }\n}\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      this.props.onCloseModal();\n    }\n  };\n\n  handleBackdropClick = ({ target, currentTarget }) => {\n    if (target === currentTarget) {\n      this.props.onCloseModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  children: PropTypes.node,\n  onCloseModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import { Component } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nimport pixabayApi from './services/pixabayApi';\r\n\r\nimport './App.css';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport Searchbar from './components/Searchbar';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport Button from './components/Button';\r\nimport Loader from './components/Loader/Loader';\r\nimport Modal from './components/Modal';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    query: '',\r\n    images: [],\r\n    isLoading: false,\r\n    page: 1,\r\n    pageSize: 12,\r\n    error: null,\r\n    showModal: false,\r\n    largeImageURL: '',\r\n    imgTags: null,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.query !== this.state.query) {\r\n      this.fetchImages();\r\n    }\r\n  }\r\n\r\n  handleFormSubmit = query => {\r\n    this.setState({ query: query, page: 1, images: [], error: null });\r\n  };\r\n\r\n  fetchImages = () => {\r\n    const { page, query, pageSize } = this.state;\r\n    const options = { page, query, pageSize };\r\n\r\n    this.setState({ isLoading: true });\r\n\r\n    pixabayApi(options)\r\n      .then(images => {\r\n        if (images.length < 1) {\r\n          this.setState({ error: true });\r\n        } else {\r\n          this.setState(prevState => ({\r\n            images: [...prevState.images, ...images],\r\n            page: prevState.page + 1,\r\n          }));\r\n        }\r\n        if (page !== 1) {\r\n          this.scrollToButtom();\r\n        }\r\n      })\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  scrollToButtom = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  setImgData = ({ largeImageURL, tags }) => {\r\n    this.setState({ largeImageURL, tags });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      images,\r\n      isLoading,\r\n      error,\r\n      showModal,\r\n      largeImageURL,\r\n      imgTags,\r\n    } = this.state;\r\n    const shouldRenderLoadMoreBtn = images.length > 0 && !isLoading;\r\n\r\n    return (\r\n      <div>\r\n        <Searchbar onSubmit={this.handleFormSubmit} />\r\n        {error && <p className=\"text-error\">404</p>}\r\n        <ImageGallery\r\n          images={images}\r\n          onOpenModal={this.toggleModal}\r\n          onSetImgData={this.setImgData}\r\n        />\r\n        {shouldRenderLoadMoreBtn && (\r\n          <Button onClickHandler={this.fetchImages} />\r\n        )}\r\n        {isLoading && <Loader />}\r\n        {showModal && (\r\n          <Modal onCloseModal={this.toggleModal}>\r\n            <img src={largeImageURL} alt={imgTags} />\r\n          </Modal>\r\n        )}\r\n        <ToastContainer autoClose={3000} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__hrfPL\",\"SearchForm\":\"Searchbar_SearchForm__1WYEE\",\"SearchForm__button\":\"Searchbar_SearchForm__button__1yDO4\",\"SearchForm__buttonLabel\":\"Searchbar_SearchForm__buttonLabel__C6pel\",\"SearchForm__input\":\"Searchbar_SearchForm__input__3kU8-\"};"],"sourceRoot":""}